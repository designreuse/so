<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Login</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src="scripts/jquery-1.12.1.js" type="text/javascript"></script>
<style type="text/css">
	.focus{
		border:1px solid #f00;
		background: #fcc;
	}
</style>
</head>
<body >
	<div class="container">
		<div class="content">
			<p class="alert alert-error" id="msg">There was an error, please try again</p>
			<h2>Login with Email and Password</h2>
			<!--
			<form id="form1" action="/api/accounts/login" method="POST">
				<fieldset>
					<input type="text" name="email" id="email" value="" placeholder="Email" />
					<input type="password" name="password" name="password" placeholder="Password" />
				</fieldset>
				<input type="submit" id="login" value="Login"
					class="btn btn-primary" />
			</form>
			-->
			<form id="form1" action="#">
				<fieldset>
					<input type="text" id="email" name="email" />
					<input type="password" id="password" name="password" />
				</fieldset>
				<input type="button" id="login" value="登 陆"
					class="btn btn-primary" />
			</form>
		</div>
	</div>
</body>
</html>
<script type="text/javascript">
$(function(){
	$(":input").focus(function(){
		$(this).addClass("focus");
	}).blur(function(){
		$(this).removeClass("focus");
	});

	$("#login").bind("click",function(event){
		var email = $("#email").val();
		var pwd = $("#password").val();
		if(email == "" || pwd == ""){
			$("#msg").html("邮箱地址或密码不能为空");
			return false;
		}

		var url = 'http://localhost:3519/api/accounts/login';
		/*
		$.get(url, {
			email: $("#email").val(),
			password: $("#password").val()
		}, function(data, textStatus) {

			$("#msg").html(data);
		});
		*/

		url +='?email='+email+'&password='+pwd;
		$.getJSON(url, function(data){
			var html='';
			$.each(data, function(i,item) {
				html += i+":="+item+";";
			});
			$('#msg').html(html);
		})
	})

});

</script>